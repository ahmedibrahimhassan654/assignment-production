{"version":3,"sources":["pages/Homepage.js","component/Header.jsx","MainPage.jsx","App.js","index.js"],"names":["uuidv4","require","v4","itemsFromBackend","id","content","columnsFromBackend","name","items","Homepage","useState","columns","setColumns","style","display","justifyContent","height","width","backgroundColor","onDragEnd","result","destination","source","droppableId","sourceColumn","destColumn","sourceItems","destItems","splice","index","removed","column","copiedItems","window","localStorage","setItem","JSON","stringify","Object","entries","map","columnId","flexDirection","alignItems","className","marginRight","border","provided","snapshot","droppableProps","ref","innerRef","background","isDraggingOver","padding","minHeight","item","draggableId","draggableProps","dragHandleProps","userSelect","margin","isDragging","color","placeholder","Header","logout","userName","getItem","room","position","type","onClick","MainPage","setUserName","setRoom","setLoggedIn","loggedIn","socket","clear","emit","io","connect","App","useEffect","isauth","share","aria-label","value","onChange","event","target","disabled","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.10c5deed.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./homePage.css\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nconst { v4: uuidv4 } = require(\"uuid\");\r\n\r\nconst itemsFromBackend = [\r\n  { id: uuidv4(), content: \"First task\" },\r\n  { id: uuidv4(), content: \"Second task\" },\r\n  { id: uuidv4(), content: \"Third task\" },\r\n  { id: uuidv4(), content: \"Fourth task\" },\r\n  { id: uuidv4(), content: \"Fifth task\" },\r\n  { id: uuidv4(), content: \"sixth task\" },\r\n];\r\n\r\nconst columnsFromBackend = {\r\n  [uuidv4()]: {\r\n    name: \"Requested\",\r\n    items: itemsFromBackend,\r\n  },\r\n  [uuidv4()]: {\r\n    name: \"To do\",\r\n    items: [],\r\n  },\r\n  [uuidv4()]: {\r\n    name: \"In Progress\",\r\n    items: [],\r\n  },\r\n  [uuidv4()]: {\r\n    name: \"Done\",\r\n    items: [],\r\n  },\r\n};\r\nconst onDragEnd = (result, columns, setColumns) => {\r\n  if (!result.destination) return;\r\n  const { source, destination } = result;\r\n\r\n  if (source.droppableId !== destination.droppableId) {\r\n    const sourceColumn = columns[source.droppableId];\r\n    const destColumn = columns[destination.droppableId];\r\n    const sourceItems = [...sourceColumn.items];\r\n    const destItems = [...destColumn.items];\r\n    const [removed] = sourceItems.splice(source.index, 1);\r\n    destItems.splice(destination.index, 0, removed);\r\n    setColumns({\r\n      ...columns,\r\n      [source.droppableId]: {\r\n        ...sourceColumn,\r\n        items: sourceItems,\r\n      },\r\n      [destination.droppableId]: {\r\n        ...destColumn,\r\n        items: destItems,\r\n      },\r\n    });\r\n  } else {\r\n    const column = columns[source.droppableId];\r\n    const copiedItems = [...column.items];\r\n    const [removed] = copiedItems.splice(source.index, 1);\r\n    copiedItems.splice(destination.index, 0, removed);\r\n    setColumns({\r\n      ...columns,\r\n      [source.droppableId]: {\r\n        ...column,\r\n        items: copiedItems,\r\n      },\r\n    });\r\n  }\r\n  window.localStorage.setItem(\"result\", JSON.stringify(result));\r\n  window.localStorage.setItem(\"columns\", JSON.stringify(columns));\r\n  //window.localStorage.setItem(\"setColumns\", JSON.stringify(setColumns));\r\n};\r\n\r\nconst Homepage = () => {\r\n  const [columns, setColumns] = useState(columnsFromBackend);\r\n  // useEffect(() => {\r\n  //   return window.localStorage.getItem(\"result\");\r\n  // });\r\n  // const share=()=>{\r\n\r\n  //     const result = window.localStorage.getItem(\"result\");\r\n  //     const columns = window.localStorage.getItem(\"columns\");\r\n  //     if (result && columns) {\r\n  //     //  socket.emit(\"is_auth\", { userName, room });\r\n\r\n  // }\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        backgroundColor: \"#641339\",\r\n      }}\r\n    >\r\n      <DragDropContext\r\n        onDragEnd={(result) => onDragEnd(result, columns, setColumns)}\r\n      >\r\n        {Object.entries(columns).map(([columnId, column], index) => {\r\n          return (\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n              }}\r\n              key={columnId}\r\n            >\r\n              <h2 className=\"text text-light\">{column.name}</h2>\r\n              <div style={{ marginRight: 8, border: \"5px solid yellow \" }}>\r\n                <Droppable droppableId={columnId} key={columnId}>\r\n                  {(provided, snapshot) => {\r\n                    return (\r\n                      <div\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                        style={{\r\n                          background: snapshot.isDraggingOver\r\n                            ? \"lightblue\"\r\n                            : \"lightgrey\",\r\n                          padding: 4,\r\n                          width: 250,\r\n                          minHeight: 500,\r\n                          // marginTop: 20,\r\n                        }}\r\n                      >\r\n                        {column.items.map((item, index) => {\r\n                          return (\r\n                            <Draggable\r\n                              key={item.id}\r\n                              draggableId={item.id}\r\n                              index={index}\r\n                            >\r\n                              {(provided, snapshot) => {\r\n                                return (\r\n                                  <div\r\n                                    ref={provided.innerRef}\r\n                                    {...provided.draggableProps}\r\n                                    {...provided.dragHandleProps}\r\n                                    style={{\r\n                                      userSelect: \"none\",\r\n                                      padding: 16,\r\n                                      margin: \"0 0 8px 0\",\r\n                                      minHeight: \"90px\",\r\n                                      backgroundColor: snapshot.isDragging\r\n                                        ? \"#263B4A\"\r\n                                        : \"#456C86\",\r\n                                      color: \"white\",\r\n                                      ...provided.draggableProps.style,\r\n                                    }}\r\n                                  >\r\n                                    {item.content}\r\n                                  </div>\r\n                                );\r\n                              }}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                        {provided.placeholder}\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </Droppable>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </DragDropContext>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Homepage;\r\n","import React from \"react\";\r\n\r\nconst Header = ({ logout }) => {\r\n  const userName = window.localStorage.getItem(\"userName\");\r\n  const room = window.localStorage.getItem(\"room\");\r\n  return (\r\n    <>\r\n      <div className={\"row\"} style={{ position: \"sticky\" }}>\r\n        <p className={\"page-header\"}>\r\n          Drag & drob & socket io assignment 🔥 ✌️ <br />\r\n          {`welcom player ${userName} in room number ${room}`}\r\n          <br />\r\n          <button\r\n            className=\"btn btn-primary btn-sm btn-block mt-3\"\r\n            type=\"button\"\r\n            onClick={logout}\r\n          >\r\n            logout\r\n          </button>\r\n          <br />\r\n          <span>Created By Ahmed Ibrahim</span>\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Homepage from \"./pages/Homepage\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nimport Header from \"./component/Header\";\r\n// import \"./main.css\";\r\nconst MainPage = ({\r\n  userName,\r\n  room,\r\n  setUserName,\r\n  setRoom,\r\n  loggedIn,\r\n  setLoggedIn,\r\n  socket,\r\n}) => {\r\n  const logout = () => {\r\n    window.localStorage.clear();\r\n    //socket.emit(\"disconnect\", { reson: \"io server disconnect\" });\r\n    socket.emit(\"logout\", { userName, room });\r\n    setLoggedIn(false);\r\n    setUserName(\"\");\r\n    setRoom(\"\");\r\n  };\r\n  return (\r\n    <>\r\n      <Header logout={logout} userName={userName} room={room} />\r\n      <Homepage />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport io from \"socket.io-client\";\n\nimport MainPage from \"./MainPage\";\n\nconst socket = io.connect(\"http://localhost:3001\");\n\nfunction App() {\n  //befour login\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [room, setRoom] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n\n  useEffect(() => {\n    isauth();\n    share();\n  }, [userName, room]);\n\n  const connectToRoom = () => {\n    window.localStorage.clear();\n    setLoggedIn(true);\n    window.localStorage.setItem(\"userName\", JSON.stringify(userName));\n    window.localStorage.setItem(\"room\", JSON.stringify(room));\n    if (userName && room) {\n      socket.emit(\"join_room\", { userName, room });\n    }\n  };\n  const isauth = () => {\n    const userName = window.localStorage.getItem(\"userName\");\n    const room = window.localStorage.getItem(\"room\");\n    if (userName && room) {\n      socket.emit(\"is_auth\", { userName, room });\n      setLoggedIn(true);\n    } else {\n      setLoggedIn(false);\n    }\n  };\n  const share = () => {\n    // const result = window.localStorage.getItem(\"result\");\n    // return result;\n    const columns = window.localStorage.getItem(\"columns\");\n    return columns;\n  };\n  return (\n    <>\n      <div className=\"App\">\n        {!loggedIn ? (\n          <div className=\"logIn\">\n            <p className=\"text-primary\"> {JSON.stringify(loggedIn)}</p>\n            <div className=\"inputs\">\n              <select\n                className=\"form-select form-select-lg mb-3\"\n                aria-label=\".form-select-sm example\"\n                value={userName}\n                onChange={(event) => setUserName(event.target.value)}\n              >\n                {\" \"}\n                <option>Select player </option>\n                <option value=\"one\">One</option>\n                <option value=\"two\">Two</option>\n              </select>\n              <p className=\"text-primary\"> {JSON.stringify(userName)}</p>\n              <select\n                className=\"form-select form-select-lg mb-3\"\n                aria-label=\".form-select-sm example\"\n                value={room}\n                onChange={(event) => setRoom(event.target.value)}\n              >\n                {\" \"}\n                <option>Select team </option>\n                <option value=\"one\">One</option>\n                <option value=\"two\">Two</option>\n              </select>\n              <p className=\"text-primary\"> {JSON.stringify(room)}</p>\n            </div>\n            <button\n              className=\"btn btn-block btn-primary mt-3\"\n              disabled={\n                !userName ||\n                !room ||\n                userName === \"Select player\" ||\n                room === \"Select team\"\n              }\n              onClick={connectToRoom}\n            >\n              {\"Submit\"}\n            </button>\n          </div>\n        ) : (\n          <MainPage\n            loggedIn={loggedIn}\n            setLoggedIn={setLoggedIn}\n            userName={userName}\n            room={room}\n            setUserName={setUserName}\n            setRoom={setRoom}\n            socket={socket}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}